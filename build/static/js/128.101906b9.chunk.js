(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[128],{1986:function(e,t,a){"use strict";a.r(t);var n=a(837),r=a(51),o=a(13),s=a(14),l=a(16),c=a(15),i=a(0),d=a.n(i),m=a(1118),u=a(1119),p=a(1120),f=a(171),h=a(1121),g=a(794),b=a(1116),v=a(1117),_=a(778),y=a(793),E=a(561),S=a(297),D=a(56),z=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onChangeHandler=function(e){s.setState({selectedFile:e.target.files[0]}),s.setState({selectedName:e.target.files[0].name}),console.log(e.target.files[0])},s.changeHandler=function(e){s.setState(Object(r.a)({},e.target.name,e.target.value))},s.submitHandler=function(e){e.preventDefault(),console.log(s.props.match.params,s.state);var t=new FormData;t.append("mpds",s.state.mpds),t.append("nozzels",s.state.nozzels),t.append("products",s.state.products),t.append("Last_Stamping_Date",s.state.Last_Stamping_Date),t.append("Due_Date",s.state.Due_Date),t.append("K_Factor",s.state.K_Factor),t.append("Last_Service_Date",s.state.Last_Service_Date),null!==s.state.selectedFile&&(t.append("Upload_Certificate",s.state.selectedFile,s.state.selectedName),t.append("Upload_Service_Report",s.state.selectedFile,s.state.selectedName),t.append("Last_Service_Report",s.state.selectedFile,s.state.selectedName));var a,r=Object(n.a)(t.values());try{for(r.s();!(a=r.n()).done;){var o=a.value;console.log(o)}}catch(m){r.e(m)}finally{r.f()}var l,c=Object(n.a)(t.keys());try{for(c.s();!(l=c.n()).done;){var i=l.value;console.log(i)}}catch(m){c.e(m)}finally{c.f()}var d=s.props.match.params.id;E.a.post("/dealer/updateStampingdata/".concat(d),s.state).then((function(e){console.log(e),s.props.history.push("/app/facilityManagement/stampingDataList")})).catch((function(e){console.log(e.response)}))},s.download=function(e){console.log(e.target.href),fetch(e.target.href,{method:"GET",headers:{}}).then((function(e){e.arrayBuffer().then((function(e){var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=t,a.setAttribute("download","image.png"),document.body.appendChild(a),a.click()}))})).catch((function(e){console.log(e)}))},s.state={mpds:[],nozzels:[],products:[],Last_Stamping_Date:"",Due_Date:"",K_Factor:"",Upload_Certificate:"",Upload_Service_Report:"",Last_Service_Date:"",Last_Service_Report:"",selectedFile:null,selectedName:""},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;E.a.get("/dealer/allnozzle").then((function(t){console.log(t.data.data),e.setState({mpds:t.data.data,nozzels:t.data.data})})).catch((function(e){console.log(e)})),E.a.get("/dealer/allproduct").then((function(t){console.log(t.data.data),e.setState({products:t.data.data})})).catch((function(e){console.log(e)})),E.a.get("/dealer/getoneStampingdata/".concat(t)).then((function(t){console.log(t),e.setState({MPD:t.data.data.MPD,nozzel:t.data.data.nozzel,Product:t.data.data.product,Last_Stamping_Date:t.data.data.Last_Stamping_Date.split(","),Due_Date:t.data.data.Due_Date.split(","),K_Factor:t.data.data.K_Factor,Upload_Certificate:t.data.data.Upload_Certificate,Upload_Service_Report:t.data.data.Upload_Service_Report,Last_Service_Date:t.data.data.Last_Service_Date.split(","),Last_Service_Report:t.data.data.Last_Service_Report})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,a,n=this;return d.a.createElement(m.a,null,d.a.createElement(u.a,null,d.a.createElement(p.a,null,"Stamping Date"),d.a.createElement(D.b,{render:function(e){var t=e.history;return d.a.createElement(f.a,{className:" btn btn-danger float-right",onClick:function(){return t.push("/app/facilityManagement/stampingDataList")}},"Back")}})),d.a.createElement(h.a,null,d.a.createElement(g.a,{className:"m-1",onSubmit:this.submitHandler},d.a.createElement(b.a,null,d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Choose MPD"),d.a.createElement(_.a,{required:!0,type:"select",name:"MPD",value:this.state.MPD,onChange:this.changeHandler},null===(e=this.state.mpds)||void 0===e?void 0:e.map((function(e){return d.a.createElement("option",{value:e._id,key:e._id},e.mpd)})))),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Choose Nozzle"),d.a.createElement(_.a,{required:!0,type:"select",name:"nozzel",value:this.state.nozzel,onChange:this.changeHandler},null===(t=this.state.nozzels)||void 0===t?void 0:t.map((function(e){return d.a.createElement("option",{value:e._id,key:e._id},e.nozzle)})))),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Product"),d.a.createElement(_.a,{required:!0,className:"React",type:"select",classNamePrefix:"select",name:"product",value:this.state.product,onChange:this.changeHandler},null===(a=this.state.products)||void 0===a?void 0:a.map((function(e){return d.a.createElement("option",{value:e._id,key:e._id},e.product)})))),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Last Stamping Date"),d.a.createElement(y.a,{required:!0,type:"date",name:"Last_Stamping_Date",value:this.state.Last_Stamping_Date,onChange:this.changeHandler})),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Due Date"),d.a.createElement(y.a,{required:!0,type:"date",name:"Due_Date",value:this.state.Due_Date,onChange:this.changeHandler})),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"K Factor"),d.a.createElement(y.a,{required:!0,type:"text",name:"K_Factor",value:this.state.K_Factor,onChange:this.changeHandler})),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Upload Certificate"),d.a.createElement("button",{href:this.state.Upload_Certificate,download:!0,onClick:function(e){return n.download(e)},className:"mt-1"},d.a.createElement(S.a,{className:"mr-50",size:"25px",color:"blue"}),"View/Download Certificate")),d.a.createElement(v.a,{className:"mb-2",md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Service Report"),d.a.createElement("button",{href:this.state.Upload_Service_Report,download:!0,onClick:function(e){return n.download(e)},className:"mt-1"},d.a.createElement(S.a,{className:"mr-50",size:"25px",color:"blue"}),"View/Download Service Report")),d.a.createElement(v.a,{className:"mb-5",lg:"6",md:"0",sm:"6"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Last Service Report"),d.a.createElement("button",{href:this.state.Last_Service_Report,download:!0,onClick:function(e){return n.download(e)},className:"mt-1"},d.a.createElement(S.a,{className:"mr-50",size:"25px",color:"blue"}),"View/download Last Service Report")),d.a.createElement(v.a,{md:"6",sm:"12"},d.a.createElement("h5",{className:"my-1 text-bold-600"},"Last Service Date"),d.a.createElement(y.a,{required:!0,type:"date",name:"Last_Service_Date",value:this.state.Last_Service_Date,onChange:this.changeHandler})),d.a.createElement(v.a,{lg:"12",md:"12",sm:"12",className:"mb-5"},d.a.createElement(f.a.Ripple,{color:"primary",type:"submit",className:"mr-1 mb-1"},"Submit"))))))}}]),a}(d.a.Component);t.default=z},793:function(e,t,a){"use strict";var n=a(5),r=a(9),o=a(11),s=a(12),l=a(0),c=a.n(l),i=a(1),d=a.n(i),m=a(4),u=a.n(m),p=a(3),f=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],h={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:p.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},g=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(o.a)(a)),a.focus=a.focus.bind(Object(o.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,o=e.type,s=e.bsSize,l=e.valid,i=e.invalid,d=e.tag,m=e.addon,h=e.plaintext,g=e.innerRef,b=Object(r.a)(e,f),v=["radio","checkbox"].indexOf(o)>-1,_=new RegExp("\\D","g"),y=d||("select"===o||"textarea"===o?o:"input"),E="form-control";h?(E+="-plaintext",y=d||"input"):"file"===o?E+="-file":"range"===o?E+="-range":v&&(E=m?null:"form-check-input"),b.size&&_.test(b.size)&&(Object(p.warnOnce)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=b.size,delete b.size);var S=Object(p.mapToCssModules)(u()(t,i&&"is-invalid",l&&"is-valid",!!s&&"form-control-"+s,E),a);return("input"===y||d&&"function"===typeof d)&&(b.type=o),b.children&&!h&&"select"!==o&&"string"===typeof y&&"select"!==y&&(Object(p.warnOnce)('Input with a type of "'+o+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete b.children),c.a.createElement(y,Object(n.a)({},b,{ref:g,className:S,"aria-invalid":i}))},t}(c.a.Component);g.propTypes=h,g.defaultProps={type:"text"},t.a=g},794:function(e,t,a){"use strict";var n=a(5),r=a(9),o=a(11),s=a(12),l=a(0),c=a.n(l),i=a(1),d=a.n(i),m=a(4),u=a.n(m),p=a(3),f=["className","cssModule","inline","tag","innerRef"],h={children:d.a.node,inline:d.a.bool,tag:p.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},g=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(o.a)(a)),a.submit=a.submit.bind(Object(o.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,o=e.inline,s=e.tag,l=e.innerRef,i=Object(r.a)(e,f),d=Object(p.mapToCssModules)(u()(t,!!o&&"form-inline"),a);return c.a.createElement(s,Object(n.a)({},i,{ref:l,className:d}))},t}(l.Component);g.propTypes=h,g.defaultProps={tag:"form"},t.a=g},837:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(92);function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,s=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}}}]);
//# sourceMappingURL=128.101906b9.chunk.js.map